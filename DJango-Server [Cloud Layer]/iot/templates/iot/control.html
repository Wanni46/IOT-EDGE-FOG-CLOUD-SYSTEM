<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AERO-SYNC | Climate Control Matrix</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #00ffff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* Animated background particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #00ffff;
            border-radius: 50%;
            opacity: 0.6;
            animation: float 6s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        /* Grid overlay */
        .grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
        }

        .logo {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            margin-bottom: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { text-shadow: 0 0 30px rgba(0, 255, 255, 0.5); }
            50% { text-shadow: 0 0 50px rgba(0, 255, 255, 0.8), 0 0 80px rgba(255, 0, 255, 0.3); }
        }

        .subtitle {
            font-size: 1.2rem;
            color: #88ccff;
            letter-spacing: 3px;
            opacity: 0.8;
        }

        .control-matrix {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .status-panel {
            background: rgba(0, 20, 40, 0.8);
            border: 2px solid #00ffff;
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.2),
                inset 0 0 30px rgba(0, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        .status-panel::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00, #00ffff);
            z-index: -1;
            border-radius: 15px;
            opacity: 0;
            animation: borderGlow 3s infinite;
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.3; }
        }

        .main-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .fan-visual {
            width: 200px;
            height: 200px;
            position: relative;
            margin-bottom: 20px;
        }

        .fan-blade {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                rgba(0, 255, 255, 0.3) 30deg,
                transparent 60deg,
                rgba(0, 255, 255, 0.3) 90deg,
                transparent 120deg,
                rgba(0, 255, 255, 0.3) 150deg,
                transparent 180deg,
                rgba(0, 255, 255, 0.3) 210deg,
                transparent 240deg,
                rgba(0, 255, 255, 0.3) 270deg,
                transparent 300deg,
                rgba(0, 255, 255, 0.3) 330deg,
                transparent 360deg
            );
            transition: all 0.5s ease;
        }

        .fan-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, #00ffff, #0080ff);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.6);
        }

        .control-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .neo-button {
            padding: 15px 30px;
            background: linear-gradient(145deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 255, 0.05));
            border: 2px solid #00ffff;
            border-radius: 25px;
            color: #00ffff;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-width: 120px;
        }

        .neo-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .neo-button:hover {
            background: linear-gradient(145deg, rgba(0, 255, 255, 0.2), rgba(0, 255, 255, 0.1));
            box-shadow: 
                0 0 25px rgba(0, 255, 255, 0.4),
                inset 0 0 25px rgba(0, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .neo-button:hover::before {
            left: 100%;
        }

        .neo-button:active {
            transform: translateY(0);
            box-shadow: 
                0 0 15px rgba(0, 255, 255, 0.6),
                inset 0 0 15px rgba(0, 255, 255, 0.2);
        }

        .speed-control {
            width: 100%;
            margin: 20px 0;
        }

        .speed-slider {
            width: 100%;
            height: 10px;
            background: rgba(0, 255, 255, 0.2);
            border-radius: 5px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        .speed-slider::-webkit-slider-thumb {
            appearance: none;
            width: 25px;
            height: 25px;
            background: linear-gradient(45deg, #00ffff, #0080ff);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
        }

        .speed-slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            background: linear-gradient(45deg, #00ffff, #0080ff);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
            border: none;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(0, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 3px solid #00ffff;
        }

        .status-label {
            font-size: 0.9rem;
            color: #88ccff;
        }

        .status-value {
            font-weight: bold;
            color: #00ffff;
        }

        .environmental-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .env-card {
            background: rgba(0, 20, 40, 0.6);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .env-card:hover {
            border-color: #00ffff;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
            transform: translateY(-5px);
        }

        .env-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.9), rgba(0, 128, 255, 0.9));
            color: #000;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: bold;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .control-matrix {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .control-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .neo-button {
                width: 200px;
            }
        }

        /* Animation classes */
        .spinning {
            animation: spin 1s linear infinite;
        }

        .spinning-fast {
            animation: spin 0.3s linear infinite;
        }

        .spinning-slow {
            animation: spin 3s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Animated background -->
    <div class="particles" id="particles"></div>
    <div class="grid-overlay"></div>

    <div class="container">
        <div class="header">
            <div class="logo">IOT EDGE FOG CLOUD SYSTEM</div>
            <div class="subtitle">CLIMATE CONTROL</div>
        </div>

        <div class="control-matrix">
            <!-- Left Status Panel -->
            <div class="status-panel">
                <h3 style="margin-bottom: 20px; text-align: center;">SYSTEM STATUS</h3>
                <div class="status-item">
                    <span class="status-label">Power State</span>
                    <span class="status-value" id="powerStatus">OFFLINE</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Mode</span>
                    <span class="status-value" id="modeStatus">MANUAL</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Speed</span>
                    <span class="status-value" id="speedStatus">0%</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Temperature</span>
                    <span class="status-value" id="tempStatus">22°C</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Humidity</span>
                    <span class="status-value" id="humidityStatus">45%</span>
                </div>
            </div>

            <!-- Main Control Panel -->
            <div class="status-panel main-control">
                <div class="fan-visual">
                    <div class="fan-blade" id="fanBlade"></div>
                    <div class="fan-center"></div>
                </div>

                <div class="control-buttons">
                    <button class="neo-button" onclick="sendCommand('ON')">POWER ON</button>
                    <button class="neo-button" onclick="sendCommand('OFF')">POWER OFF</button>
                    <button class="neo-button" onclick="sendCommand('AUTO')">AUTO MODE</button>
                </div>

                <div class="speed-control">
                    <label style="display: block; text-align: center; margin-bottom: 10px;">SPEED CONTROL</label>
                    <input type="range" class="speed-slider" min="0" max="100" value="50" id="speedSlider" oninput="updateSpeed(this.value)">
                </div>
            </div>

            <!-- Right Environmental Panel -->
            <div class="status-panel">
                <h3 style="margin-bottom: 20px; text-align: center;">ENVIRONMENT</h3>
                <div class="status-item">
                    <span class="status-label">Air Quality</span>
                    <span class="status-value" style="color: #00ff00;">GOOD</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Filter Life</span>
                    <span class="status-value">87%</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Energy Usage</span>
                    <span class="status-value" id="energyUsage">12W</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Runtime</span>
                    <span class="status-value" id="runtime">00:00:00</span>
                </div>
                
            </div>
        </div>

        <!-- Environmental Controls -->
        <div class="environmental-controls">
            <div class="env-card" onclick="toggleFeature('ionic')">
                <span class="env-icon">⚡</span>
                <h4>IONIC PURIFIER</h4>
                <p id="ionicStatus">DISABLED</p>
            </div>
            <div class="env-card" onclick="toggleFeature('oscillation')">
                <span class="env-icon">↔️</span>
                <h4>OSCILLATION</h4>
                <p id="oscillationStatus">DISABLED</p>
            </div>
            <div class="env-card" onclick="toggleFeature('sleep')">
                <span class="env-icon">🌙</span>
                <h4>SLEEP MODE</h4>
                <p id="sleepStatus">DISABLED</p>
            </div>
            <div class="env-card" onclick="toggleFeature('timer')">
                <span class="env-icon">⏰</span>
                <h4>SMART TIMER</h4>
                <p id="timerStatus">DISABLED</p>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Global state
        let fanState = {
            power: false,
            mode: 'MANUAL',
            speed: 50,
            features: {
                ionic: false,
                oscillation: false,
                sleep: false,
                timer: false
            }
        };

        let startTime = Date.now();

        // Initialize particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Update fan animation
        function updateFanAnimation() {
            const fanBlade = document.getElementById('fanBlade');
            const powerStatus = document.getElementById('powerStatus');
            
            if (fanState.power) {
                if (fanState.speed > 75) {
                    fanBlade.className = 'fan-blade spinning-fast';
                } else if (fanState.speed > 25) {
                    fanBlade.className = 'fan-blade spinning';
                } else {
                    fanBlade.className = 'fan-blade spinning-slow';
                }
                powerStatus.textContent = 'ONLINE';
                powerStatus.style.color = '#00ff00';
            } else {
                fanBlade.className = 'fan-blade';
                powerStatus.textContent = 'OFFLINE';
                powerStatus.style.color = '#ff4444';
            }
        }

        // Update speed
        function updateSpeed(value) {
            fanState.speed = value;
            document.getElementById('speedStatus').textContent = value + '%';
            document.getElementById('energyUsage').textContent = Math.round(value * 0.5) + 'W';
            updateFanAnimation();
        }

        // Update runtime
        function updateRuntime() {
            if (fanState.power) {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                const hours = Math.floor(elapsed / 3600).toString().padStart(2, '0');
                const minutes = Math.floor((elapsed % 3600) / 60).toString().padStart(2, '0');
                const seconds = (elapsed % 60).toString().padStart(2, '0');
                document.getElementById('runtime').textContent = `${hours}:${minutes}:${seconds}`;
            }
        }

        // Show notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Send command
        function sendCommand(cmd) {
            let message = '';
            
            switch(cmd) {
                case 'ON':
                    fanState.power = true;
                    startTime = Date.now();
                    message = 'POWER SYSTEMS ONLINE - INITIATING AIRFLOW PROTOCOL';
                    document.getElementById('modeStatus').textContent = 'MANUAL';
                    break;
                case 'OFF':
                    fanState.power = false;
                    message = 'POWER SYSTEMS OFFLINE - SHUTDOWN SEQUENCE COMPLETE';
                    document.getElementById('runtime').textContent = '00:00:00';
                    break;
                case 'AUTO':
                    fanState.power = true;
                    fanState.mode = 'AUTO';
                    startTime = Date.now();
                    message = 'AUTO MODE ACTIVATED - AI CLIMATE OPTIMIZATION ENGAGED';
                    document.getElementById('modeStatus').textContent = 'AUTO';
                    // Simulate auto speed adjustment
                    setTimeout(() => {
                        const autoSpeed = Math.floor(Math.random() * 50) + 30;
                        document.getElementById('speedSlider').value = autoSpeed;
                        updateSpeed(autoSpeed);
                    }, 1000);
                    break;
            }
            
            updateFanAnimation();
            showNotification(message);

            // Simulate API call
            fetch("/control/", {
                method: "POST",
                headers: {"Content-Type": "application/json"},
                body: JSON.stringify({command: cmd})
            })
            .then(res => res.json())
            .then(data => {
                console.log('Command executed:', data);
            })
            .catch(err => {
                console.log('Demo mode - command would be sent to:', cmd);
            });
        }

        // Toggle features
        function toggleFeature(feature) {
            fanState.features[feature] = !fanState.features[feature];
            const statusElement = document.getElementById(feature + 'Status');
            const status = fanState.features[feature] ? 'ENABLED' : 'DISABLED';
            statusElement.textContent = status;
            statusElement.style.color = fanState.features[feature] ? '#00ff00' : '#888';
            
            const featureNames = {
                ionic: 'IONIC PURIFIER',
                oscillation: 'OSCILLATION',
                sleep: 'SLEEP MODE',
                timer: 'SMART TIMER'
            };
            
            showNotification(`${featureNames[feature]} ${status}`);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            setInterval(updateRuntime, 1000);
            
            // Simulate environmental data updates
            setInterval(() => {
                const temp = Math.floor(Math.random() * 5) + 20;
                const humidity = Math.floor(Math.random() * 20) + 40;
                document.getElementById('tempStatus').textContent = temp + '°C';
                document.getElementById('humidityStatus').textContent = humidity + '%';
            }, 10000);
        });
    </script>
</body>
</html>